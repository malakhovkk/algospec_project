# üöÄ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ VPS

> **–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ AlgoSpec –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ**

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-5-–º–∏–Ω—É—Ç)
2. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-vps)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û](#2-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ-–ø–æ)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
5. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞](#4-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–±—ç–∫–µ–Ω–¥–∞)
6. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞](#5-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx](#6-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx)
8. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL/HTTPS](#7-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-ssl-https)
9. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2](#8-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-pm2-–¥–ª—è-–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
10. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞](#9-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Ñ–∞–π—Ä–≤–æ–ª–∞)
11. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email (SMTP)](#10-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-email-smtp)
12. [–†–∞–±–æ—Ç–∞ —Å IP –∞–¥—Ä–µ—Å–æ–º](#11-—Ä–∞–±–æ—Ç–∞-—Å-ip-–∞–¥—Ä–µ—Å–æ–º)
13. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#12-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
14. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#13-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@your-server-ip

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
chmod +x setup-server.sh
./setup-server.sh

# 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥
cd /var/www
git clone <your-repo-url> algospec
cd algospec

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª—ã –Ω–∏–∂–µ)

# 5. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
chmod +x deploy-backend.sh deploy-frontend.sh
cd backend && ../../deploy-backend.sh
cd .. && ./deploy-frontend.sh

# 6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx (—Å–º. —Ä–∞–∑–¥–µ–ª 6)
# 7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL (—Å–º. —Ä–∞–∑–¥–µ–ª 7)
```

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS

### 1.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@your-server-ip
# –∏–ª–∏
ssh username@your-server-ip
```

### 1.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
sudo apt update
sudo apt upgrade -y
```

### 1.3 –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
adduser deploy
usermod -aG sudo deploy
su - deploy
```

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û

### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js (–≤–µ—Ä—Å–∏—è 18 –∏–ª–∏ –≤—ã—à–µ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ NodeSource
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
node --version
npm --version
```

### 2.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

```bash
sudo npm install -g pm2
```

### 2.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx

```bash
sudo apt install -y nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### 2.4 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SQLite

```bash
sudo apt install -y sqlite3
```

### 2.5 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git

```bash
sudo apt install -y git
```

### 2.6 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (–¥–ª—è SSL)

```bash
sudo apt install -y certbot python3-certbot-nginx
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
sudo mkdir -p /var/lib/algospec
sudo chown $USER:$USER /var/lib/algospec
```

---

## 4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞

### 4.1 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd /var/www
sudo mkdir -p algospec
sudo chown $USER:$USER algospec
cd algospec
git clone <your-repo-url> .
# –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ scp/sftp
```

### 4.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±—ç–∫–µ–Ω–¥–∞

```bash
cd backend
npm install
```

### 4.3 –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

```bash
cd backend
nano .env
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env`:**

```env
# –ü–æ—Ä—Ç –±—ç–∫–µ–Ω–¥–∞
PORT=3001

# JWT Secret (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
JWT_SECRET=your-super-secret-jwt-key-change-this-to-random-string

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ CORS origins (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
# –î–ª—è production —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ IP –∞–¥—Ä–µ—Å:
# –° –¥–æ–º–µ–Ω–æ–º:
# ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
# –° IP –∞–¥—Ä–µ—Å–æ–º (HTTP):
# ALLOWED_ORIGINS=http://123.45.67.89,http://123.45.67.89:3000
# –° IP –∞–¥—Ä–µ—Å–æ–º (HTTPS, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSL):
# ALLOWED_ORIGINS=https://123.45.67.89,https://123.45.67.89:3000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=587
SMTP_USER=your-email@yandex.ru
SMTP_PASS=your-app-password
SMTP_FROM=your-email@yandex.ru

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV=production
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET:**

```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

### 4.4 –°–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞

```bash
cd backend
npm run build
```

### 4.5 –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ PM2

```bash
cd backend
pm2 start dist/main.js --name algospec-backend
pm2 save
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç pm2 startup
```

### 4.6 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±—ç–∫–µ–Ω–¥–∞

```bash
pm2 status
pm2 logs algospec-backend
```

---

## 5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### 5.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
cd /var/www/algospec
npm install
```

### 5.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env.local –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
nano .env.local
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env.local`:**

```env
# URL –±—ç–∫–µ–Ω–¥–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ IP)
# –° –¥–æ–º–µ–Ω–æ–º:
# NEXT_PUBLIC_API_URL=http://your-domain.com:3001/auth
# –° IP –∞–¥—Ä–µ—Å–æ–º:
# NEXT_PUBLIC_API_URL=http://123.45.67.89:3001/auth
# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Nginx –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:
# NEXT_PUBLIC_API_URL=http://your-domain.com/api/auth
# NEXT_PUBLIC_API_URL=http://123.45.67.89/api/auth
```

### 5.3 –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
npm run build
```

### 5.4 –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ PM2

```bash
pm2 start npm --name algospec-frontend -- start
pm2 save
```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Next.js —Å–µ—Ä–≤–µ—Ä:**

```bash
pm2 start "npm run start" --name algospec-frontend
pm2 save
```

### 5.5 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
pm2 status
pm2 logs algospec-frontend
```

---

## 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

### 6.1 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª `nginx.conf` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
sudo nano /etc/nginx/sites-available/algospec
```

### 6.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞

```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Next.js (–ø–æ—Ä—Ç 3000)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞ –±—ç–∫–µ–Ω–¥ (–ø–æ—Ä—Ç 3001)
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        
        # CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
        add_header 'Access-Control-Allow-Origin' '*' always;
        add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS, PATCH' always;
        add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-Requested-With' always;
    }
}
```

### 6.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è IP –∞–¥—Ä–µ—Å–∞

```nginx
server {
    listen 80;
    server_name _;  # _ –æ–∑–Ω–∞—á–∞–µ—Ç "–ª—é–±–æ–π –¥–æ–º–µ–Ω/IP"
    # –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP: server_name 123.45.67.89;

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Next.js (–ø–æ—Ä—Ç 3000)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞ –±—ç–∫–µ–Ω–¥ (–ø–æ—Ä—Ç 3001)
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

### 6.4 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
sudo ln -s /etc/nginx/sites-available/algospec /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

---

## 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL/HTTPS

### 7.1 –î–ª—è –¥–æ–º–µ–Ω–∞ (Let's Encrypt)

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d your-domain.com -d www.your-domain.com

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo certbot renew --dry-run
```

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç HTTPS –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS.

### 7.2 –î–ª—è IP –∞–¥—Ä–µ—Å–∞ (—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)

**–í–∞–∂–Ω–æ:** Certbot –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å IP –∞–¥—Ä–µ—Å–∞–º–∏, —Ç–æ–ª—å–∫–æ —Å –¥–æ–º–µ–Ω–∞–º–∏.

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo mkdir -p /etc/nginx/ssl

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout /etc/nginx/ssl/certificate.key \
  -out /etc/nginx/ssl/certificate.crt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 600 /etc/nginx/ssl/certificate.key
sudo chmod 644 /etc/nginx/ssl/certificate.crt
```

**–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**

```nginx
server {
    listen 80;
    listen 443 ssl;
    server_name _;

    ssl_certificate /etc/nginx/ssl/certificate.crt;
    ssl_certificate_key /etc/nginx/ssl/certificate.key;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
    if ($scheme != "https") {
        return 301 https://$host$request_uri;
    }

    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ë—Ä–∞—É–∑–µ—Ä—ã –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.

### 7.3 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –∫–ª—é—á:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã
sudo cp certificate.crt /etc/nginx/ssl/
sudo cp certificate.key /etc/nginx/ssl/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 600 /etc/nginx/ssl/certificate.key
sudo chmod 644 /etc/nginx/ssl/certificate.crt
```

---

## 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2 –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### 8.1 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PM2

```bash
pm2 save
```

### 8.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

```bash
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç pm2 startup
```

### 8.3 –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 restart algospec-backend
pm2 restart algospec-frontend

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 stop algospec-backend

# –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ PM2
pm2 delete algospec-backend

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

---

## 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

### 9.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UFW (Uncomplicated Firewall)

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP
sudo ufw allow 80/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTPS
sudo ufw allow 443/tcp

# –í–∫–ª—é—á–∏—Ç—å —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo ufw status
```

---

## 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email (SMTP)

### 10.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Yandex (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –Ø–Ω–¥–µ–∫—Å –∞–∫–∫–∞—É–Ω—Ç–µ
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: https://id.yandex.ru/security/app-passwords
3. –û–±–Ω–æ–≤–∏—Ç–µ `backend/.env`:

```env
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=your-email@yandex.ru
SMTP_PASS=your-app-password
SMTP_FROM=your-email@yandex.ru
```

**–í–∞–∂–Ω–æ –¥–ª—è Yandex:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π email –∞–¥—Ä–µ—Å –≤ `SMTP_USER`
- –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ø–Ω–¥–µ–∫—Å ID
- –ü–æ—Ä—Ç 465 (SSL) –∏–ª–∏ 587 (STARTTLS) - –æ–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Gmail

1. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ Google –∞–∫–∫–∞—É–Ω—Ç–µ
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: https://myaccount.google.com/apppasswords
3. –û–±–Ω–æ–≤–∏—Ç–µ `backend/.env`:

```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@algospec.com
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Mailtrap (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://mailtrap.io
2. –°–æ–∑–¥–∞–π—Ç–µ inbox
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP
4. –û–±–Ω–æ–≤–∏—Ç–µ `backend/.env`:

```env
SMTP_HOST=sandbox.smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=your-mailtrap-username
SMTP_PASS=your-mailtrap-password
SMTP_FROM=noreply@algospec.com
```

### 10.2 –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)

–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞:

```env
NODE_ENV=development
```

–ö–æ–¥ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—ç–∫–µ–Ω–¥–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

### 10.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã SMTP

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ SMTP —Å–µ—Ä–≤–µ—Ä–∞
telnet smtp.yandex.ru 465
# –∏–ª–∏
nc -zv smtp.yandex.ru 465

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±—ç–∫–µ–Ω–¥–∞
pm2 logs algospec-backend | grep -i "smtp\|email"
```

---

## 11. –†–∞–±–æ—Ç–∞ —Å IP –∞–¥—Ä–µ—Å–æ–º

### 11.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –≤ –±—ç–∫–µ–Ω–¥–µ

–í —Ñ–∞–π–ª–µ `backend/.env` —É–∫–∞–∂–∏—Ç–µ –≤–∞—à IP –∞–¥—Ä–µ—Å:

```env
# –° HTTP (–±–µ–∑ SSL)
ALLOWED_ORIGINS=http://123.45.67.89,http://123.45.67.89:3000

# –° HTTPS (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
# ALLOWED_ORIGINS=https://123.45.67.89,https://123.45.67.89:3000
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `123.45.67.89` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å.

### 11.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–í —Ñ–∞–π–ª–µ `.env.local` —É–∫–∞–∂–∏—Ç–µ URL –±—ç–∫–µ–Ω–¥–∞:

```env
# –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±—ç–∫–µ–Ω–¥—É
NEXT_PUBLIC_API_URL=http://123.45.67.89:3001/auth

# –ò–ª–∏ —á–µ—Ä–µ–∑ Nginx –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
# NEXT_PUBLIC_API_URL=http://123.45.67.89/api/auth
```

### 11.3 –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ IP –∞–¥—Ä–µ—Å–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl ifconfig.me
# –∏–ª–∏
curl ipinfo.io/ip
# –∏–ª–∏
hostname -I
```

---

## 12. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### 12.1 –ë—ç–∫–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs algospec-backend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω
sudo netstat -tulpn | grep 3001

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat backend/.env
```

### 12.2 –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs algospec-frontend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω
sudo netstat -tulpn | grep 3000

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env.local —Ñ–∞–π–ª
cat .env.local
```

### 12.3 Nginx –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo tail -f /var/log/nginx/error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
sudo systemctl restart nginx
```

### 12.4 –ü—Ä–æ–±–ª–µ–º—ã —Å CORS

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞
pm2 logs algospec-backend | grep -i cors

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat backend/.env | grep ALLOWED_ORIGINS
```

**–í–∞–∂–Ω–æ:** Origin –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å, –≤–∫–ª—é—á–∞—è:
- –ü—Ä–æ—Ç–æ–∫–æ–ª (http:// –∏–ª–∏ https://)
- –î–æ–º–µ–Ω/IP –∞–¥—Ä–µ—Å
- –ü–æ—Ä—Ç (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:**

```env
# –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
ALLOWED_ORIGINS=http://123.45.67.89,http://123.45.67.89:3000
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

```bash
pm2 restart algospec-backend
pm2 logs algospec-backend --lines 50
```

### 12.5 –ü—Ä–æ–±–ª–µ–º—ã —Å SMTP (ETIMEDOUT)

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å SMTP —Å–µ—Ä–≤–µ—Ä–∞
telnet smtp.yandex.ru 465
# –∏–ª–∏
nc -zv smtp.yandex.ru 465

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
nslookup smtp.yandex.ru
```

**–†–µ—à–µ–Ω–∏—è:**

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (465 –∏–ª–∏ 587)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π SMTP —Å–µ—Ä–≤–∏—Å
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ - –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**

```bash
pm2 logs algospec-backend | grep "–ö–û–î –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò"
```

### 12.6 –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /var/www/algospec/backend/algospec.db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sqlite3 /var/www/algospec/backend/algospec.db ".tables"
```

### 12.7 –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
sudo lsof -i :3000
sudo lsof -i :3001

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 <PID>
```

---

## 13. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 13.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
cd /var/www/algospec
git pull

# –ë—ç–∫–µ–Ω–¥
cd backend
npm install
npm run build
pm2 restart algospec-backend

# –§—Ä–æ–Ω—Ç–µ–Ω–¥
cd ..
npm install
npm run build
pm2 restart algospec-frontend
```

### 13.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env` —Ñ–∞–π–ª–æ–≤:

```bash
# –ë—ç–∫–µ–Ω–¥
cd /var/www/algospec/backend
pm2 restart algospec-backend

# –§—Ä–æ–Ω—Ç–µ–Ω–¥
cd /var/www/algospec
pm2 restart algospec-frontend
```

### 13.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs --lines 100
```

### 13.4 –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
cp /var/www/algospec/backend/algospec.db /var/backups/algospec-$(date +%Y%m%d).db

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–æ–±–∞–≤—å—Ç–µ –≤ crontab)
crontab -e
# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
0 2 * * * cp /var/www/algospec/backend/algospec.db /var/backups/algospec-$(date +\%Y\%m\%d).db
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] VPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë—ç–∫–µ–Ω–¥ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] .env —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] PM2 –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∏–ª–∏ IP –¥–æ—Å—Ç—É–ø–µ–Ω)
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2 –∫–ª–∞—Å—Ç–µ—Ä —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```bash
pm2 start dist/main.js -i max --name algospec-backend
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –õ–æ–≥–∏ PM2 –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `~/.pm2/logs/`
- –õ–æ–≥–∏ Nginx –≤ `/var/log/nginx/`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã –≤ Git**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è JWT_SECRET**
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã**

---

## üÜò –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
curl http://localhost:3001/auth/profile

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
curl http://localhost:3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
# http://your-domain.com –∏–ª–∏ http://your-ip
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [PM2 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://pm2.keymetrics.io/docs/usage/quick-start/)
- [Nginx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nginx.org/en/docs/)
- [Certbot –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://certbot.eff.org/)
- [Next.js deployment](https://nextjs.org/docs/deployment)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

- `DEPLOYMENT_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- `HTTPS_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
- `IP_ADDRESS_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å IP –∞–¥—Ä–µ—Å–æ–º
- `EMAIL_VERIFICATION_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ email
- `CORS_TROUBLESHOOTING.md` - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å CORS
- `SMTP_TROUBLESHOOTING.md` - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å SMTP
- `QUICK_START.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `nginx.conf` - –ì–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx

---

**–£–¥–∞—á–∏ —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ**

